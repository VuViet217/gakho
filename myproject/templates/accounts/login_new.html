{% extends 'adminlte/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "ƒêƒÉng nh·∫≠p" %}{% endblock %}

{% block body_class %}login-page{% endblock body_class %}

{% block body %}
<div class="login-page">
    <div class="login-wrapper">
        <div class="login-left">
            <div class="login-overlay"></div>
            <div class="login-content">
                <div class="login-logo">
                    <h1><b>GA</b> Inventory</h1>
                </div>
                <div class="login-description">
                    <h2>{% trans "H·ªá Th·ªëng Qu·∫£n L√Ω Kho Chuy√™n Nghi·ªáp" %}</h2>
                    <p>{% trans "T·ªëi ∆∞u h√≥a ho·∫°t ƒë·ªông kho h√†ng v·ªõi gi·∫£i ph√°p qu·∫£n l√Ω to√†n di·ªán" %}</p>
                    <div class="login-features">
                        <div class="feature-item">
                            <i class="fas fa-boxes"></i>
                            <span>{% trans "Qu·∫£n l√Ω h√†ng t·ªìn kho" %}</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-truck"></i>
                            <span>{% trans "Theo d√µi nh√† cung c·∫•p" %}</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-chart-line"></i>
                            <span>{% trans "B√°o c√°o th·ªëng k√™" %}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="login-right">
            <div class="login-form-container">
                <div class="login-header">
                    <h3>{% trans "ƒêƒÉng Nh·∫≠p" %}</h3>
                    <p>{% trans "ƒêƒÉng nh·∫≠p ƒë·ªÉ b·∫Øt ƒë·∫ßu phi√™n l√†m vi·ªác" %}</p>
                </div>

                <form method="post" class="login-form">
                    {% csrf_token %}
                    <div class="input-group">
                        <div class="input-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        {{ form.username }}
                    </div>
                    <div class="input-group">
                        <div class="input-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        {{ form.password }}
                    </div>

                    {% if form.errors %}
                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-circle"></i> {% trans "T√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ƒë√∫ng. Vui l√≤ng th·ª≠ l·∫°i." %}
                    </div>
                    {% endif %}

                    <div class="login-options">
                        <div class="remember-me">
                            <input type="checkbox" id="remember">
                            <label for="remember">{% trans "Nh·ªõ m·∫≠t kh·∫©u" %}</label>
                        </div>
                        <a href="{% url 'password_reset' %}" class="forgot-password">{% trans "Qu√™n m·∫≠t kh·∫©u?" %}</a>
                    </div>

                    <button type="submit" class="login-button">
                        <span>{% trans "ƒêƒÉng Nh·∫≠p" %}</span>
                        <i class="fas fa-sign-in-alt"></i>
                    </button>
                </form>

                <div class="login-footer">
                    <p>¬© 2025 GA Inventory Management System</p>
                    
                    <!-- Language Switcher in footer -->
                    <div class="language-switcher-footer">
                        <form action="{% url 'set_language' %}" method="post" id="language-form">
                            {% csrf_token %}
                            <input name="next" type="hidden" value="{{ request.get_full_path }}">
                            <input type="hidden" name="language" id="language-input">
                        </form>
                        {% get_current_language as CURRENT_LANGUAGE %}
                        <div class="language-tabs">
                            <button type="button" class="lang-tab {% if CURRENT_LANGUAGE == 'vi' %}active{% endif %}" 
                                    onclick="changeLanguage('vi')" title="Ti·∫øng Vi·ªát">
                                <span class="flag">üáªüá≥</span>
                                <span>VN</span>
                            </button>
                            <button type="button" class="lang-tab {% if CURRENT_LANGUAGE == 'en' %}active{% endif %}" 
                                    onclick="changeLanguage('en')" title="English">
                                <span class="flag">üá¨üáß</span>
                                <span>EN</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function changeLanguage(lang) {
        document.getElementById('language-input').value = lang;
        document.getElementById('language-form').submit();
    }
</script>

<link rel="stylesheet" href="{% static 'admin-lte/plugins/fontawesome-free/css/all.min.css' %}">
<link rel="stylesheet" href="{% static 'admin-lte/dist/css/adminlte.min.css' %}">
<link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock %}